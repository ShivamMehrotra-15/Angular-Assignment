<div class="container">
  <form name="employeeForm" [formGroup]="employeeForm" class="form-container">
    <div class="form-group">
      <label>Name</label>
      <input type="text" class="form-control" formControlName="name" />
      <div
        *ngIf="
          employeeForm.get('name').touched && employeeForm.get('name').invalid
        "
      >
        <p class="error" *ngIf="employeeForm.get('name').hasError('required')">
          Name is required.
        </p>
        <p class="error" *ngIf="employeeForm.get('name').hasError('pattern')">
          Enter valid name.
        </p>
      </div>
    </div>
    <div class="form-group">
      <label class="genderLabel">Gender:</label>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          value="male"
          formControlName="gender"
        />
        <label class="form-check-label">Male</label>
      </div>

      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          value="female"
          formControlName="gender"
        />
        <label class="form-check-label">Female</label>
      </div>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="text" class="form-control" formControlName="email" />
      <div
        *ngIf="
          employeeForm.get('email').touched && employeeForm.get('email').invalid
        "
      >
        <p class="error" *ngIf="employeeForm.get('email').hasError('required')">
          Email is required.
        </p>
        <p class="error" *ngIf="employeeForm.get('email').hasError('email')">
          Enter valid email.
        </p>
      </div>
    </div>

    <div class="form-group">
      <label>Mobile</label>
      <input type="text" class="form-control" formControlName="mobile" />
      <div
        *ngIf="
          employeeForm.get('mobile').touched &&
          employeeForm.get('mobile').invalid
        "
      >
        <p
          class="error"
          *ngIf="employeeForm.get('mobile').hasError('required')"
        >
          Mobile is required.
        </p>
        <p
          class="error"
          *ngIf="employeeForm.get('mobile').hasError('pattern')"
        >
          Enter valid mobile number.
        </p>
      </div>
    </div>
    <div class="form-group">
      <label>
        Category :
        <select formControlName="category" class="form-control">
          <option value="General">General</option>
          <option value="OBC">OBC</option>
          <option value="SC/ST">SC/ST</option>
        </select>
      </label>
    </div>

    <div class="form-group">
      <label class="genderLabel">Technology : </label>
      <div
        class="form-check form-check-inline"
        *ngFor="let data of technologies"
      >
        <input
          class="form-check-input"
          type="checkbox"
          (change)="onChange(data.title, $event.target)"
        />
        <label class="form-check-label">{{ data.title }}</label>
      </div>
      <div style="font-size: 12; color: gray">Please select atleast one</div>
    </div>

    <button
      type="submit"
      data-toggle="modal"
      data-target="#previewData"
      class="btn btn-primary"
      [disabled]="!(employeeForm.valid && !getErrors())"
    >
      Submit
    </button>
  </form>

  <div class="modal" id="previewData">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Preview</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p class="text-capitalize">Name : {{ employeeForm.get("name").value }}</p>
          <p class="text-capitalize">Gender : {{ employeeForm.get("gender").value }}</p>
          <p>Email : {{ employeeForm.get("email").value }}</p>
          <p class="text-capitalize">Mobile : {{ employeeForm.get("mobile").value }}</p>
          <p class="text-capitalize">Category : {{ employeeForm.get("category").value }}</p>
          <p class="text-capitalize">Technology : {{ employeeForm.get("technology").value }}</p>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-success"
            data-dismiss="modal"
            (click)="onSave()"
          >
            Save changes
          </button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
